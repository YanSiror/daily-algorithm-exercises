<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="GB2312">
    <title>字符数组</title>
    <link rel="stylesheet" href="../../highlights/railscasts.min.css">
</head>
<body>
<h3>二维转一维</h3>
<p>`code::blocks` 版本</p>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 数组 数组大小
 * 输出: 平铺后的一维字符数组
*/
char * flatten(char str[][10],int strSize){
    //统计长度
    int i,j,length = 0;
    for(i = 0;i < strSize;i++)
        for(j = 0;j < strlen(str[i]);j++)
            length++;
    //平铺
    char * result = malloc(sizeof(char) * (length+1));
    int tag = 0;    //记录下标
    for(i = 0;i < strSize;i++)
        for(j = 0;j < strlen(str[i]);j++)
            result[tag++] = str[i][j];
    result[tag] = '\0';     //标识终止符
    printf("%s ",result);
    return result;
}
    </code>
</pre>

<h3>二维转一维</h3>
<p>`LeetCode` 版本</p>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 数组 数组大小
 * 输出: 平铺后的一维字符数组
*/
char * flatten(char ** str,int strSize){
    //统计长度
    int i,j,length = 0;
    for(i = 0;i < strSize;i++)
        for(j = 0;j < strlen(str[i]);j++)
            length++;
    //平铺
    char * result = malloc(sizeof(char) * (length+1));
    int tag = 0;    //记录下标
    for(i = 0;i < strSize;i++)
        for(j = 0;j < strlen(str[i]);j++)
            result[tag++] = str[i][j];
    result[tag] = '\0';     //标识终止符
    return result;
}

    </code>
</pre>

<h3>字符数组的翻转</h3>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 字符数组 长度
 * 输出: 翻转后的数组
*/
char * reverseChar(char * str,int size){
    int i,j;
    for(i = 0;i < size/2;i++){
        int temp = str[i];
        str[i] = str[size-i-1];
        str[size-i-1] = temp;
    }
    return str;
}
    </code>
</pre>

<h3>字符数组转整型</h3>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 可转换为数字的字符数组
 * 输出: 转换后的数字
*/
int strToInt(char * str){
    int length = strlen(str);
    int i;
    int * nums = malloc(sizeof(int) * length);
    for(i = 0;i < length;i++)
        nums[i] = str[i] - '0';

    //合并数组为整数
    double result = 0;
    for(i = length - 1;i >= 0;i--)
        result += nums[i] * pow(10,length - i - 1);
    return result;
}
    </code>
</pre>

<h3>按字符分割字符串</h3>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 将字符串根据字符 ch 进行划分
 * 输出: 划分后的二维数组
 * 可接受: ss1bb1  以1位分割符
*/
char ** splitAsChar(char * str,char ch,int * returnsize){
    //首先记录字符长度
    int length = 1,i;
    char * head = str;
    while(*head){
        if(*head == ch)
            length++;
        head++;
    }

    //生成二维数组
    int ** result = malloc(sizeof(char*) * length);
    for(i = 0;i < length;i++)
        result[i] = malloc(sizeof(char) * 20);

    //开始分割
    head = str;
    char temp[10];
    int tag = 0,cur = 0;
    while(*head){
        if(*head != ch){
            temp[tag++] = *head;
            temp[tag] = '\0';
        } else{
            strcpy(result[cur++],temp);
            temp[tag] = '\0';
            tag = 0;
        }
        head++;
    }
    //末尾没有进行赋值
    strcpy(result[cur],temp);

    *returnsize = length;
    return result;
}
    </code>
</pre>

<h3>字符串拷贝</h3>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 需要拷贝的字符串
 * 输出: 拷贝完成后的的字符串指针
*/
char * strCopy(char * s){
    //拷贝一份
    int i = 0;
    char * temp = malloc(sizeof(char) * (strlen(s)+1));
    for(i = 0;i < strlen(s);i++)
        temp[i] = s[i];
    temp[i] = '\0';
    return temp;
}
    </code>
</pre>

</body>
</html>