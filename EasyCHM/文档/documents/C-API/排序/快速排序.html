<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="GB2312">
    <title>快速排序</title>
    <link rel="stylesheet" href="../../highlights/railscasts.min.css">
</head>
<body>
<h3>调用 C 库函数内置 `qsort()` 函数</h3>
<pre class='hljs'>
    <code class="c">
int cmp(const void *a,const void *b){
    return *(int*)a - *(int*)b;
}
    </code>
</pre>

<h3>快速排序</h3>
<p>降序</p>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 整型数组 最小下标 最大下标
 * 输出: 降序排序后的数组
*/
int * quickSortAC(int * nums, int low, int high)
{
    int left = low;
    int right = high;
    int key = nums[left];   //从 low 开始

    if(low >= high)
        return;

    //每次排序都以 key 为基准, 右侧寻找一个大于 key 的数
    //左侧寻找一个小于 key 的数, 两者交换
    //最后使得 最终位置 左侧都小于 key,右侧都大于 key ,也即key
    //来到了它的最终位置 FinalPosition
    while(left < right){
        while(left < right && nums[right] < key)    right--;    //从右向左查找第一个小于K的数
        nums[left] = nums[right];

        while(left < right && nums[left] > key)    left++;    //从左向右查找第一个小于K的数
        nums[right] = nums[left];
    }

    nums[left] = key;
    // 递归调用
    quickSortAC(nums, low, left - 1);     // 排序k左边
    quickSortAC(nums, left + 1, high);    // 排序k右边
}
    </code>
</pre>

<h3>升序</h3>
<pre class='hljs'>
    <code class="c">
/*
 * 输入: 整型数组 最小下标 最大下标
 * 输出: 升序排序后的数组
*/
int * quickSortAC(int * nums, int low, int high)
{
    int left = low;
    int right = high;
    int key = nums[left];   //从 low 开始

    if(low >= high)
        return;

    //每次排序都以 key 为基准, 右侧寻找一个大于 key 的数
    //左侧寻找一个小于 key 的数, 两者交换
    //最后使得 最终位置 左侧都小于 key,右侧都大于 key ,也即key
    //来到了它的最终位置 FinalPosition
    while(left < right){
        while(left < right && nums[right] > key)    right--;    //从右向左查找第一个小于K的数
        nums[left] = nums[right];

        while(left < right && nums[left] < key)    left++;    //从左向右查找第一个小于K的数
        nums[right] = nums[left];
    }

    nums[left] = key;
    // 递归调用
    quickSortAC(nums, low, left - 1);     // 排序k左边
    quickSortAC(nums, left + 1, high);    // 排序k右边
}
    </code>
</pre>

</body>
</html>